# 这个变量一般是在 workflow 里用，不影响，这里留着也没事
CONFIG_ENV=config.env

# ======================
# Kernel 基本配置
# ======================
KERNEL_SOURCE=https://github.com/rsuntkOrgs/kernel_samsung_wingtech
KERNEL_SOURCE_BRANCH=android-4.19-stable

# 注意：这里只填 defconfig 的“名字”，不要带路径
# 请确认你的 defconfig 文件实际叫这个名字：
#   arch/arm64/configs/rsuntk-a04_defconfig
# 如果名字不一样，就改成对应的，例如 a04_defconfig / a045f_defconfig 等
KERNEL_CONFIG=rsuntk-a04_defconfig

# A04 用的是 Image.gz 内核
KERNEL_IMAGE_NAME=Image.gz
ARCH=arm64

# 是否把 localversion 加到文件名后面，一般关掉
ADD_LOCALVERSION_TO_FILENAME=false

# 编译时额外参数，大部分 MTK 4.19 都需要用 lld
# 你原本写的是 EXTRA_CMDS:LD=ld.lld，语法有点怪，改成下面这个标准写法
EXTRA_CMDS=LD=ld.lld

# ======================
# Clang
# ======================

## 不用自定义 clang，走 AOSP 默认
USE_CUSTOM_CLANG=false
CUSTOM_CLANG_SOURCE=
CUSTOM_CLANG_BRANCH=

# 你之前这行写的是 CUSTOM_CMDS:CLANG_TRIPLE=...
# 改成标准写法，给 clang 设置 triple
CUSTOM_CMDS=CLANG_TRIPLE=aarch64-linux-gnu-

## AOSP clang（默认就够用了）
CLANG_BRANCH=master-kernel-build-2022
CLANG_VERSION=r450784e

# ======================
# GCC
# ======================
ENABLE_GCC_ARM64=true
ENABLE_GCC_ARM32=true

USE_CUSTOM_GCC_64=false
CUSTOM_GCC_64_SOURCE=
CUSTOM_GCC_64_BRANCH=
CUSTOM_GCC_64_BIN=aarch64-linux-android-

USE_CUSTOM_GCC_32=false
CUSTOM_GCC_32_SOURCE=
CUSTOM_GCC_32_BRANCH=
CUSTOM_GCC_32_BIN=arm-linux-androideabi-

# ======================
# KernelSU flags
# ======================
ENABLE_KERNELSU=true
KERNELSU_TAG=v0.9.5
KSU_EXPECTED_SIZE=
KSU_EXPECTED_HASH=

# ======================
# 内核 / KSU 相关开关
# ======================
# 为了降低 4.19 + 新工具链出错几率，这里建议都开：
DISABLE-LTO=true              # 关 LTO，避免 link 问题
DISABLE_CC_WERROR=true        # 关 -Werror，避免 warning 变 error

ADD_KPROBES_CONFIG=true       # 自动在 defconfig 里加 kprobes 相关 config
ADD_OVERLAYFS_CONFIG=true     # 自动加 overlayfs 相关 config
APPLY_KSU_PATCH=true          # 自动打 KernelSU patch

REMOVE_UNUSED_PACKAGES=true   # 清一下没用的包，省磁盘

# ======================
# AnyKernel3
# ======================
USE_CUSTOM_ANYKERNEL3=false
CUSTOM_ANYKERNEL3_SOURCE=
CUSTOM_ANYKERNEL3_BRANCH=

# ======================
# Ccache
# ======================
ENABLE_CCACHE=true

# ======================
# DTBO
# ======================
# 如果以后要一起打包 dtbo，可以改成 true
NEED_DTBO=false

# ======================
# Build boot.img（可选）
# ======================
# 目前先关掉，只输出 AnyKernel3 ZIP 就好
BUILD_BOOT_IMG=false

# 如果以后要让 Action 直接帮你生成 boot.img，
# 这里要换成「你自己 A04 原机可正常开机的 boot.img 的直链」，
# 现在先留空，避免用到 Wayne 的示例。
SOURCE_BOOT_IMAGE=
